{"version":3,"file":"js-focus-ring.env.js","sources":["js-focus-ring.js"],"sourcesContent":["export default (scope) => {\n\tscope = scope || window; // eslint-disable-line no-param-reassign\n\n\tconst inputTypesWhitelist = {\n\t\ttext: 1,\n\t\tsearch: 1,\n\t\turl: 1,\n\t\ttel: 1,\n\t\temail: 1,\n\t\tpassword: 1,\n\t\tnumber: 1,\n\t\tdate: 1,\n\t\tmonth: 1,\n\t\tweek: 1,\n\t\ttime: 1,\n\t\tdatetime: 1,\n\t\t'datetime-local': 1\n\t};\n\n\tlet keyboardThrottleTimeoutID;\n\n\tscope.addEventListener('blur', (event) => {\n\t\tif (event.target instanceof Element) {\n\t\t\tevent.target.removeAttribute('js-focus');\n\t\t\tevent.target.removeAttribute('js-focus-ring');\n\t\t}\n\t}, true);\n\n\tscope.addEventListener('focus', (event) => {\n\t\tconst activeElement = document.activeElement;\n\n\t\tif (activeElement instanceof Element && 'BODY' !== activeElement.tagName) {\n\t\t\tactiveElement.setAttribute('js-focus', '');\n\n\t\t\tif (\n\t\t\t\tkeyboardThrottleTimeoutID || scope === event.target ||\n\t\t\t\t'INPUT' === activeElement.tagName && inputTypesWhitelist[activeElement.type] && !activeElement.readonly ||\n\t\t\t\t'TEXTAREA' === activeElement.tagName && !activeElement.readonly ||\n\t\t\t\t'true' === activeElement.contentEditable\n\t\t\t) {\n\t\t\t\tactiveElement.setAttribute('js-focus-ring', '');\n\t\t\t}\n\t\t}\n\t}, true);\n\n\tscope.addEventListener('keydown', () => {\n\t\tkeyboardThrottleTimeoutID = clearTimeout(keyboardThrottleTimeoutID) || setTimeout(() => {\n\t\t\tkeyboardThrottleTimeoutID = 0;\n\t\t}, 100);\n\t}, true);\n};\n"],"names":["scope","inputTypesWhitelist","keyboardThrottleTimeoutID","window","addEventListener","event","target","Element","removeAttribute","activeElement","document","tagName","setAttribute","type","readonly","contentEditable","clearTimeout","setTimeout"],"mappings":"wDAAgBA,OAGTC,QACC,SACE,MACH,MACA,QACE,WACG,SACF,OACF,QACC,OACD,OACA,WACI,mBACQ,GAGfC,YAlBIF,GAASG,QAoBXC,iBAAiB,OAAQ,SAACC,GAC3BA,EAAMC,kBAAkBC,YACrBD,OAAOE,gBAAgB,cACvBF,OAAOE,gBAAgB,oBAE5B,KAEGJ,iBAAiB,QAAS,SAACC,OAC1BI,EAAgBC,SAASD,cAE3BA,aAAyBF,SAAW,SAAWE,EAAcE,YAClDC,aAAa,WAAY,KAGtCV,GAA6BF,IAAUK,EAAMC,QAC7C,UAAYG,EAAcE,SAAWV,EAAoBQ,EAAcI,QAAUJ,EAAcK,UAC/F,aAAeL,EAAcE,UAAYF,EAAcK,UACvD,SAAWL,EAAcM,oBAEXH,aAAa,gBAAiB,OAG5C,KAEGR,iBAAiB,UAAW,aACLY,aAAad,IAA8Be,WAAW,aACrD,GAC1B,OACD"}